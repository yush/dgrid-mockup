<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <title>mockup</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/favicon.ico">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css styles/vendor.css -->
        <!-- bower:css -->
        <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css" />
        <!-- endbower -->
        <!-- endbuild -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
       	<script src="dojoConfig.js"></script>
        <!-- bower:js -->
        <script src="../bower_components/jquery/dist/jquery.js"></script>
        <script src="../bower_components/dojo/dojo.js"></script>
        <!-- endbower -->
    </head>
    <body class="claro bootstrap">
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

		<script>
		require(['dojo/_base/declare', 'dgrid/OnDemandGrid', 'dgrid/Keyboard', 'dgrid/Selection', 'dgrid/extensions/CompoundColumns', 'dgrid/ColumnSet', 'dojo/store/Memory', 'dojo/dom', 'dojo/on', 'dojo/domReady!'],
            function(declare, Grid, Keyboard, Selection, CompoundColumns, ColumnSet, Memory, Dom, On){

                var data = [
                    { col0: 'ssBase', col1: 3, col2: 3, col3:3},
                    { col0: 'thrHand', col1: 'R', col2: 'gf', col3: 'de'},
                    { col0: 'thrPos', col1: 'r', col2: 'gf', col3: 'de'},
                ];

                var data2 = [
                    { col0: 'ssBase', col1: 3, col2: 3, col3: 3, col4: 4},
                    { col0: 'thrHand', col1: 'R', col2: 'L', col3: 'de', col4: 'L' },
                    { col0: 'thrPos', col1: 'r', col2: 'gf', col3: 'de', col4: 'center'},
                ];

                var columns = [
                    {field: 'col0', label: ' '},
                    {field: 'col1', label: 'Time 1'},
                    {label: 'Time 2', children: [
                            {field: 'col2', label: 'throw 1'},
                            {field: 'col3', label: 'throw 2'}
                        ]},
                ];

                var columns2 = [
                    {field: 'col0', label: ' '},
                    {field: 'col1', label: 'Time 1'},
                    {label: 'Time 2', children: [
                            {field: 'col2', label: 'throw 1'},
                            {field: 'col3', label: 'throw 2'}
                        ]},
                    {field: 'col4', label: 'Time 3'},
                ];

                // Create a new constructor by mixing in the components
                var CustomGrid = declare([ Grid, Keyboard, Selection, CompoundColumns ]);
         
                // Now, create an instance of our custom grid which
                // have the features we added!
                var grid = new CustomGrid({
                    store: new Memory({data: data2}),
                    columns: columns2,
                }, 'grid');
                grid.startup();

                On(Dom.byId('btnAddTime'), 'click', function() {
                    console.log('addTime');
                    grid.set('columns', columns );
                });
			});
		</script>

        <div class="container">
            <button id="btnAddTime" type="button" class="btn btn-default">
              <span class="glyphicon glyphicon-star"></span>Add time 
            </button>
            <div id="grid"></div>
        </div>

        <!-- build:js scripts/vendor.js -->
        <!-- endbuild -->

        <!-- build:js scripts/plugins.js -->
        <script src="../bower_components/bootstrap/js/affix.js"></script>
        <script src="../bower_components/bootstrap/js/alert.js"></script>
        <script src="../bower_components/bootstrap/js/dropdown.js"></script>
        <script src="../bower_components/bootstrap/js/tooltip.js"></script>
        <script src="../bower_components/bootstrap/js/modal.js"></script>
        <script src="../bower_components/bootstrap/js/transition.js"></script>
        <script src="../bower_components/bootstrap/js/button.js"></script>
        <script src="../bower_components/bootstrap/js/popover.js"></script>
        <script src="../bower_components/bootstrap/js/carousel.js"></script>
        <script src="../bower_components/bootstrap/js/scrollspy.js"></script>
        <script src="../bower_components/bootstrap/js/collapse.js"></script>
        <script src="../bower_components/bootstrap/js/tab.js"></script>
        <!-- endbuild -->

        <!-- build:js({app,.tmp}) scripts/main.js -->
        <!-- endbuild -->
</body>
</html>
