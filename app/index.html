<!doctype html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <title>mockup</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="/favicon.ico">
        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
        <!-- build:css styles/vendor.css -->
        <!-- bower:css -->
        <link rel="stylesheet" href="../bower_components/bootstrap/dist/css/bootstrap.css" />
        <link rel="stylesheet" href="../bower_components/dijit/themes/claro/claro.css" />
        <!-- endbower -->
        <!-- endbuild -->
        <!-- build:css(.tmp) styles/main.css -->
        <link rel="stylesheet" href="styles/main.css">
        <!-- endbuild -->
       	<script src="dojoConfig.js"></script>
        <!-- bower:js -->
        <script src="js/dojo/dojo.js"></script>
        <!-- endbower -->
    </head>
    <body class="claro bootstrap">
        <!--[if lt IE 10]>
            <p class="browsehappy">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

		<script>
		require(['dojo/_base/declare', 'dojo/dom-construct', 'dojo/dom', 'dojo/on', 'dojo/parser', 'scripts/SsTrickView', '../app/scripts/SsTrick', 'dijit/form/ComboBox', 'dojo/domReady!'],
            function(declare, Builder, Dom, On, Parser, TrickView, Trick){
                trickView = new TrickView(); 
                trickTest = new TrickView();
                tk = new Trick();

                Cascade = {
                    name: 'cascade',
                    properties: ['ssTime', 'ssBase', 'thrHand', 'thrPos', 'catHand', 'catPos'],
                    time: [
                        [{'ssTime': 1, 'ssBase': 5, 'thrHand': 'R', 'thrPos': 'r', 'catHand': 'L', 'catPos': 'l'}],
                        [{'ssTime': 2, 'ssBase': 1, 'thrHand': 'R', 'thrPos': 'r', 'catHand': 'L', 'catPos': 'l'}]
                    ]
                };

                Colonnes3 = {
                    name: 'colonnes 3 balles',
                    properties: ['ssTime', 'ssBase', 'thrHand', 'thrPos', 'catHand', 'catPos'],
                    time: [
                        [
                            {'ssTime': 1, 'ssBase': 4, 'thrHand': 'R', 'thrPos': 'c', 'catHand': 'R', 'catPos': 'c'},
                            {'ssTime': 1, 'ssBase': 4, 'thrHand': 'L', 'thrPos': 'c', 'catHand': 'L', 'catPos': 'c'}
                        ],
                        [
                            {'ssTime': 4, 'ssBase': 1, 'thrHand': 'R', 'thrPos': 'r', 'catHand': 'L', 'catPos': 'l'},
                            {'ssTime': 2, 'ssBase': 1, 'thrHand': 'R', 'thrPos': 'r', 'catHand': 'L', 'catPos': 'l'}
                        ]
                    ]
                };

                //trickView.loadJson(Cascade);
                trickView.loadJson(Colonnes3);
                h = trickView.toHtml();
                Builder.place(h, "trick");

                On(Dom.byId('btnAddTime'), 'click', function() {
                    tk.addTime();
                    trickTest.loadJson(tk);
                    h = trickTest.toHtml();
                    domTrick = Dom.byId("trick");
                    Builder.place(h, domTrick, "only");
                    Parser.parse(domTrick);
                });
			});
		</script>

        <div class="container">
            <button id="btnAddTime" type="button" class="btn btn-default">
              <span class="glyphicon glyphicon-star"></span>Add time 
            </button>
            <div id="trick"></div>
        </div>

        <!-- build:js scripts/vendor.js -->
        <!-- endbuild -->

        <!-- build:js scripts/plugins.js -->
        <!-- endbuild -->

        <!-- build:js({app,.tmp}) scripts/main.js -->
        <!-- endbuild -->
</body>
</html>
